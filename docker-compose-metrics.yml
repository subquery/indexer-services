prometheus:
  image: prom/prometheus:latest
  container_name: indexer_prometheus
  volumes:
    - ./metrics/prometheus.yml:/etc/prometheus/prometheus.yml
  command: --config.file=/etc/prometheus/prometheus.yml
  ports:
    - 9090:9090

grafana:
  image: grafana/grafana:latest
  container_name: indexer_grafana
  ports:
    - 3000:3000
  volumes:
    - ./metrics/datasources:/etc/grafana/provisioning/datasources
    - ./metrics/dashboards:/etc/grafana/provisioning/dashboards
  environment:
    - GF_SECURITY_ADMIN_PASSWORD=admin

networks:
  default:
    name: indexer_services